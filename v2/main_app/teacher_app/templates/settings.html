{% extends "v2-base.html" %}
{% import 'logo_macro.html' as logo %}
{% import 'teacher_macros.html' as macros %}
{% import 'contact_us.html' as forms %}
{% block title %}Settings{% endblock %}
{% block nav_title %}Settings{% endblock %}
{% block styles %}
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" type="text/css" href="{{ url_for('teacher_app.static', filename='css/teacher_app_styles.css') }}">
    <style>
        body {
            background-color: whitesmoke;
        }
    </style>
{% endblock styles %}
{% block navbar %}
    <div class="navbar-nav mr-auto">
        <ul class="nav nav-pills top-navbar-pill">
            <li class="nav-item">
                <a href="{{ url_for('home') }}" class="nav-link text-center">Cyber Arena</a>
            </li>
            <li class="nav-item">
                <a href="{{ url_for("fixed_arena.home") }}" class="nav-link text-center">STOC</a>
            </li>
            {% if auth_list.admin %}
                <li class="nav-item">
                    <a href='{{ url_for("admin.home") }}' class="nav-link text-center">Admin Home</a>
                </li>
            {% endif %}
        </ul>
    </div>
    <div class="navbar-nav navbar-right">
        <ul class="nav nav-pills top-navbar-pill">
            <li class="nav-item m-l-r-3">
                <a id="contact-us" class="nav-item btn top-navbar-btn" href='#' data-toggle="modal"
                   data-target="#modalContactUs"><i class="fa fa-envelope-o icon-light"></i>Contact Us</a>
            </li>
        </ul>
        <div class="dropdown">
            <ul class="nav nav-pills top-navbar-pill">
                <li class="nav-item m-l-r-3">
                    <button id="banner" class="nav-item btn top-navbar-btn" data-toggle="dropdown">
                        <span id="user">Anonymous User</span><i class="fa fa-caret-down ml-1"></i></button>
                    <ul class="dropdown-menu m-l-r-3 dropdown-menu-hover">
                        <li class="nav-item m-l-r-3 text-center">
                            <a id="settings" class="nav-item btn" href="/teacher/settings" style="width: 100%;">Settings</a>
                        </li>
                        <li class="nav-item m-l-r-3 text-center">
                            <a id="sign-out" class="nav-item btn" style="width: 100%;">Sign Out</a>
                        </li>
                    </ul>
                </li>
            </ul>
        </div>
    </div>
{% endblock %}
{% block content %}
<div class="col main pt-3 mt-3 pr-3 h-100">
    <script type="text/javascript" src='{{ url_for("static", filename="js/login.js") }}'></script>
    <script>
          var teacher_email = null;
          var auth_config = {
              apiKey: '{{ auth_config["api_key"] }}',
              authDomain: '{{ auth_config["auth_domain"] }}',
              projectId: '{{ auth_config["project_id"] }}'
          };
          initApp(auth_config).then(value => {
              enable_signout();
               // Set welcome banner
              const welcome_nav = document.getElementById('user');
              welcome_nav.textContent = value['display_name'];

              // Set workout form value
              //document.getElementById('assignment-teacher-id').value = value['user_email'];
          });
          $(document).ready(function() {
               // Call functions that need to be run during initial page load here
               let tsToDate = new TimestampToDate();
               tsToDate.convert_timestamps();
           });
    </script>
    <div class="form-input-group">
        <div class="form-group">
            <label for="apiKeyCanvas">API Key (Canvas)</label>
            <input id="apiKeyCanvas" class="form-control" name="apiKeyCanvas" type="text">
        </div>
        <div class="form-group">
            <label for="urlCanvas">URL (Canvas)</label>
            <input id="urlCanvas" class="form-control" name="urlCanvas" type="text">
        </div>
    </div>
    <div class="form-input-group">
        <div class="form-group">
            <label for="apiKeyBlackboard">API Key (Blackboard)</label>
            <input id="apiKeyBlackboard" class="form-control" name="apiKeyBlackboard" type="text">
        </div>
        <div class="form-group">
            <label for="urlBlackboard">URL (Blackboard)</label>
            <input id="urlBlackboard" class="form-control" name="urlBlackboard" type="text">
        </div>
    </div>
    <div class="d-flex justify-content-right">
        <button type="submit" id="save-settings" class="waves-effect waves-light btn-fa text-center build-workout">Save Settings</button>
    </div>
    {{ forms.contact_us() }}
</div>
{% endblock content %}