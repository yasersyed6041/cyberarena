{% extends "base.html" %}

{% block content %}
    <div id="workout_id" hidden>{{ workout_id }}</div>
    <h2>Description</h2>
    <p>{{ description }}</p>
    <h2>Link</h2>
    {% if guac_path==None %}
        <a href="http://{{ workout_id }}{{ dns_suffix }}:8080">http://{{ workout_id }}{{ dns_suffix }}:8080</a>
    {% else %}
        <a href="http://{{ workout_id }}{{ dns_suffix }}:8080/guacamole/#/client/{{ guac_path}}">http://{{ workout_id }}{{ dns_suffix }}:8080/guacamole/#/client/{{ guac_path}}</a>
    {% endif %}

    <form action="/start_vm" method="post">
        <div class="input-field col s12">
                <input type="hidden" id="workout_id" name="workout_id" value="{{ workout_id }}">
                <input type="number" id="time" name="time" value="2" min="1" max="10">
                <label>How long should the workout run (1 - 10 hours)?</label>
        </div>
        <div class="btn-ctn" style="float: left">
            {% if running %}
                <button type="submit" id="start-vm" class="waves-effect waves-light btn" disabled>START VM</button>
            {% else %}
                <button type="submit" id="start-vm" class="waves-effect waves-light btn" >START VM</button>
            {% endif %}
        </div>
    </form>
    <form action="/stop_vm" method="post">
        <input type="hidden" id="workout_id" name="workout_id" value="{{ workout_id }}">
        <div class="btn-ctn" style="float: left">
            {% if running %}
                <button id="stop-vm" class="waves-effect waves-light btn" >STOP VM</button>
            {% else %}
                <button id="stop-vm" class="waves-effect waves-light btn" disabled>STOP VM</button>
            {% endif %}
        </div>
    </form>
{% endblock %}